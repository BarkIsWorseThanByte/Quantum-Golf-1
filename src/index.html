<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
    <title>Babylon - Ball</title>
    <link href="https://fonts.googleapis.com/css?family=Gugi" rel="stylesheet">
    <script src="https://preview.babylonjs.com/babylon.js"></script> <!-- grab babylon -->
    <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script> <!-- grab a babylon loader -->
    <script src="/node_modules/clientside-require/dist/bundle.js"></script> <!-- load clientside-require -->
    <script>
        window.require_global.BABYLON = BABYLON;  // pass babylon to modules
        window.require_global.document = document; // pass document to modules
    </script>
</head>
<body>
    <script>
        var render = async function(){ // wrap in async function to enable the await keyword
            // define the canvas
            var canvas = document.querySelector("canvas");

            var render_world = await require("./worlds/test.js", {injection_require_type:'sync'});
            render_world(canvas);

        }
        window.onload = render;
    </script>
    <style>
        html, body {
            overflow: hidden;
            width   : 100%;
            height  : 100%;
            margin  : 0;
            padding : 0;
            font-family: 'Gugi', cursive;
        }
        canvas {
            width   : 100%;
            height  : 100%;
            touch-action: none;
        }
    </style>
    <canvas></canvas>
</body>
</html>
